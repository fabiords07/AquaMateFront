<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil</title>

    <link rel="stylesheet" href="/frontend/CSS/user-configs.css">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            function verificarLogin() {
                const authToken = localStorage.getItem('authToken');
                return authToken !== null;
            }
            const currentPath = window.location.pathname;
            const loginRegisterPath = '/frontend/pages/login-register/login-register.html';
            if (!verificarLogin() && currentPath !== loginRegisterPath) {
                window.location.href = loginRegisterPath;
                return;
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="forms-container">
            <div class="signin-signup">
                
                <form action="" class="sign-in-form">
                    <img src="/frontend/IMG/logo grande.png" alt="AquaMate" width="230px" />

                    <h2 class="title">seu perfil</h2>

                    <div class="user-nome" id="nome-container">
                        <p id="nome">Nome: </p> 
                        <input type="text" id="nome-input"/><br>
                    </div>
        
                    <div class="user-data" id="peso-container">
                        <p id="peso">Peso: </p>
                        <input type="number" id="peso-input">
                    </div>
        
                    <div class="switch_container" id="tipoMeta-container">
                        <p id="tipoMeta">Meta: </p>
                        <input type="number" id="metaManual-input" disabled><br>
                        <input class="switch-meta" type="checkbox" id="tipoMeta-input">
                        <label for="tipoMeta-input">Auto</label>
                    </div>
                    <button id="saveField" type="button" value="salvar" class="btn solid">Salvar</button>
                </form>
            </div>
        </div>

        <div class="panels-container">     
            <div class="panel left-panel">
                <div class="content">
                    <h3>Esse é o seu perfil!</h3>
                    <p>Sinta-se à vontade para fazer as alterações necessárias e lembre: hidrate-se</p>
                </div>
            </div>
        </div>

    </div>
    <script src="/frontend/js/user-config.js" type="module"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var checkbox = document.getElementById('tipoMeta-input');
            checkbox.addEventListener('change', toggleMeta);
        });

        function toggleMeta() {
            var metaInput = document.getElementById('metaManual-input');
            var checkbox = document.getElementById('tipoMeta-input');
            metaInput.disabled = checkbox.checked;
            if (checkbox.checked) {
                metaInput.value = ''; // Limpa o valor do campo de entrada quando a checkbox estiver marcada
            }
        }
    </script>
    <script src="js/redirecionamento.js"></script>
</body>
</html>